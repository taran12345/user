--liquibase formatted sql
--changeset gbp:GBP_11498_data runOnChange:true dbms:oracle stripComments:true failOnError:true

--MODULE

---EU ECOMM CUSTOM
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_VIRTUAL_TERMINAL', 'Virtual Terminal', 'F',
        'Invoke and track a payment (MO/TO) from this module on behalf of your customer', null, 'MULTI', 'F', 'F', 0,
        'T', 'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS', 'Actions', 'F', null, 'BP_EU_CUSTOM_VIRTUAL_TERMINAL', 'SINGLE', 'F',
        'F', 0, 'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS_VIEW', 'Accept Payments and View receipts', 'T',
        'Module to invoke a payment and generate and share receipts with customers',
        'BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS', null, 'F', 'F', 0, 'T', 'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS_SETTINGS',
        'Accept Payments, View receipts and Virtual terminal Settings', 'F',
        'Module to capture customised information on customer, payment, billing while accepting a payment',
        'BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS', null, 'F', 'F', 1, 'T', 'T');

Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_DIGITAL_INVOICING', 'Digital Invoicing', 'F',
        'Request and track payment from customer via a payment link', null, 'MULTI', 'F', 'F', 0, 'T', 'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS', 'Actions', 'F', null, 'BP_EU_CUSTOM_DIGITAL_INVOICING', 'SINGLE', 'F',
        'F', 0, 'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS_VIEW', 'Generate a Payment link & Receipts', 'T',
        'Module to generate, track and share a payment link and receipts with customer',
        'BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS', null, 'F', 'F', 0, 'T', 'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS_SETTINGS',
        'Generate a Payment link & Receipts and Digital Invoicing Settings', 'F',
        'Module to capture customised information on customer, payment, billing while generating a payment link',
        'BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS', null, 'F', 'F', 1, 'T', 'T');

Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_TAXES', 'Taxation Configuration', 'F', 'Add/View/Edit the tax configurations', null, 'MULTI', 'F',
        'F', 0, 'T', 'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_TAXES_ACTIONS', 'Actions', 'F', null, 'BP_EU_CUSTOM_TAXES', 'SINGLE', 'F', 'F', 0, 'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_TAXES_ACTIONS_VIEW', 'View Tax Configurations', 'T',
        'User can view the existing tax configurations', 'BP_EU_CUSTOM_TAXES_ACTIONS', null, 'F', 'F', 0, 'T', 'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_TAXES_ACTIONS_SETTINGS', 'View and Edit Tax Configurations', 'F',
        'User can add, view, edit the tax configurations', 'BP_EU_CUSTOM_TAXES_ACTIONS', null, 'F', 'F', 1, 'T', 'T');

Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_COUPONS', 'Coupons Configurations', 'F', 'Add/View/Edit the coupon configurations', null, 'MULTI',
        'F', 'F', 0, 'T', 'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_COUPONS_ACTIONS', 'Actions', 'F', null, 'BP_EU_CUSTOM_COUPONS', 'SINGLE', 'F', 'F', 0, 'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_COUPONS_ACTIONS_VIEW', 'View Coupon Configurations', 'T',
        'User can view the existing coupon configurations', 'BP_EU_CUSTOM_COUPONS_ACTIONS', null, 'F', 'F', 0, 'T',
        'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_COUPONS_ACTIONS_SETTINGS', 'View and Edit Coupon Configurations', 'F',
        'User can add, view, edit the coupon configurations', 'BP_EU_CUSTOM_COUPONS_ACTIONS', null, 'F', 'F', 1, 'T',
        'T');

Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_MERCHANT_INFORMATION', 'Merchant Information', 'F', 'View merchant account information', null,
        'MULTI', 'F', 'F', 0, 'T', 'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_MERCHANT_INFORMATION_ACTIONS', 'Actions', 'F', null, 'BP_EU_CUSTOM_MERCHANT_INFORMATION',
        'SINGLE', 'F', 'F', 0, 'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_EU_CUSTOM_MERCHANT_INFORMATION_ACTIONS_VIEW', 'View Merchant Information', 'T',
        'User can view the merchant information at an account level', 'BP_EU_CUSTOM_MERCHANT_INFORMATION_ACTIONS',
        null, 'F', 'F', 0, 'T', 'T');

--Access level

Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_VIRTUAL_TERMINAL', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_VIRTUAL_TERMINAL', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS_SETTINGS', 'T');

Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_DIGITAL_INVOICING', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_DIGITAL_INVOICING', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS_SETTINGS', 'T');

Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_TAXES', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_TAXES', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_TAXES_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_TAXES_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_TAXES_ACTIONS_SETTINGS', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_TAXES_ACTIONS_SETTINGS', 'T');

Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_COUPONS', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_COUPONS', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_COUPONS_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_COUPONS_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_COUPONS_ACTIONS_SETTINGS', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_COUPONS_ACTIONS_SETTINGS', 'T');

Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_MERCHANT_INFORMATION', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_MERCHANT_INFORMATION', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_EU_CUSTOM_MERCHANT_INFORMATION_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_EU_CUSTOM_MERCHANT_INFORMATION_ACTIONS_VIEW', 'T');


--MODULE_PERM
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:virtual-terminal:accept-payment', 'BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS_VIEW', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:virtual-terminal:accept-payment', 'BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS_SETTINGS', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:virtual-terminal:settings', 'BP_EU_CUSTOM_VIRTUAL_TERMINAL_ACTIONS_SETTINGS', 'T');

Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:digital-invoice:generate-link', 'BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS_VIEW', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:digital-invoice:generate-link', 'BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS_SETTINGS', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:digital-invoice:settings', 'BP_EU_CUSTOM_DIGITAL_INVOICING_ACTIONS_SETTINGS', 'T');


Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:taxes:get', 'BP_EU_CUSTOM_TAXES_ACTIONS_VIEW', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:taxes:get', 'BP_EU_CUSTOM_TAXES_ACTIONS_SETTINGS', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:taxes:create', 'BP_EU_CUSTOM_TAXES_ACTIONS_SETTINGS', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:taxes:update', 'BP_EU_CUSTOM_TAXES_ACTIONS_SETTINGS', 'T');

Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:coupons:get', 'BP_EU_CUSTOM_COUPONS_ACTIONS_VIEW', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:coupons:get', 'BP_EU_CUSTOM_COUPONS_ACTIONS_SETTINGS', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:coupons:create', 'BP_EU_CUSTOM_COUPONS_ACTIONS_SETTINGS', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:coupons:update', 'BP_EU_CUSTOM_COUPONS_ACTIONS_SETTINGS', 'T');

Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:merchant-information:get', 'BP_EU_CUSTOM_MERCHANT_INFORMATION_ACTIONS_VIEW', 'T');

--ROLE_MODULES
UPDATE ROLE_MODULES
SET DISPLAY_ORDER = 9
WHERE MODULE_ID = 'BP_CUSTOM_3D_SECURE'
  AND ROLE = 'BP_EU_CUSTOM';
UPDATE ROLE_MODULES
SET DISPLAY_ORDER = 10
WHERE MODULE_ID = 'BP_CUSTOM_SALVAGE'
  AND ROLE = 'BP_EU_CUSTOM';
UPDATE ROLE_MODULES
SET DISPLAY_ORDER = 11
WHERE MODULE_ID = 'BP_CUSTOM_BRANDING'
  AND ROLE = 'BP_EU_CUSTOM';
UPDATE ROLE_MODULES
SET DISPLAY_ORDER = 14
WHERE MODULE_ID = 'BP_CUSTOM_WEBHOOKS'
  AND ROLE = 'BP_EU_CUSTOM';
UPDATE ROLE_MODULES
SET DISPLAY_ORDER = 15
WHERE MODULE_ID = 'BP_CUSTOM_OPTIMIZE'
  AND ROLE = 'BP_EU_CUSTOM';
Insert into ROLE_MODULES (ROLE, MODULE_ID, DISPLAY_ORDER, ENABLED)
values ('BP_EU_CUSTOM', 'BP_EU_CUSTOM_VIRTUAL_TERMINAL', 7, 'T');
Insert into ROLE_MODULES (ROLE, MODULE_ID, DISPLAY_ORDER, ENABLED)
values ('BP_EU_CUSTOM', 'BP_EU_CUSTOM_DIGITAL_INVOICING', 8, 'T');
Insert into ROLE_MODULES (ROLE, MODULE_ID, DISPLAY_ORDER, ENABLED)
values ('BP_EU_CUSTOM', 'BP_EU_CUSTOM_TAXES', 12, 'T');
Insert into ROLE_MODULES (ROLE, MODULE_ID, DISPLAY_ORDER, ENABLED)
values ('BP_EU_CUSTOM', 'BP_EU_CUSTOM_COUPONS', 13, 'T');
Insert into ROLE_MODULES (ROLE, MODULE_ID, DISPLAY_ORDER, ENABLED)
values ('BP_EU_CUSTOM', 'BP_EU_CUSTOM_MERCHANT_INFORMATION', 16, 'T');

-- Ecommm role changes (Merchant information)
-- INSERT NEW PARENT MERCHANT CONFIG MODULE
Insert into ROLE_MODULES (ROLE, MODULE_ID, DISPLAY_ORDER, ENABLED)
values ('BP_ECOMM_ADMIN', 'BP_ECOMM_ADMIN_MERCHANT_INFORMATION', 7, 'T');
Insert into ROLE_MODULES (ROLE, MODULE_ID, DISPLAY_ORDER, ENABLED)
values ('BP_ECOMM_CUSTOM', 'BP_ECOMM_CUSTOM_MERCHANT_INFORMATION', 6, 'T');

-- SET FK CONSTRAINT OFF
ALTER TABLE MODULE_ACCESS_LEVEL DISABLE CONSTRAINT MODULE_ACCESS_LEVEL_MODULE_FK;

-- trasfer config to non config(Merchant info)
UPDATE MODULE
set PARENT_ID=NULL,
    ID='BP_ECOMM_ADMIN_MERCHANT_INFORMATION'
where ID = 'BP_ECOMM_ADMIN_CONFIGURATIONS_MERCHANT_INFORMATION';
UPDATE MODULE_ACCESS_LEVEL
SET MODULE_ID = 'BP_ECOMM_ADMIN_MERCHANT_INFORMATION'
WHERE MODULE_ID = 'BP_ECOMM_ADMIN_CONFIGURATIONS_MERCHANT_INFORMATION';

-- update description acc of config(-merchant config)
UPDATE MODULE
SET DESCRIPTIONS = 'User can view the set configurations for  receipts/invoices and emails and taxes and coupons'
WHERE ID = 'BP_ECOMM_CUSTOM_CONFIGURATIONS_ACTIONS_VIEW';
UPDATE MODULE
SET DESCRIPTIONS = 'User can view, add and edit the set configurations for  receipts/invoices and emails and taxes and coupons'
WHERE ID = 'BP_ECOMM_CUSTOM_CONFIGURATIONS_ACTIONS_VIEW_AND_EDIT';

-- new custom merchant config
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_ECOMM_CUSTOM_MERCHANT_INFORMATION', 'Merchant Information', 'F', 'View merchant account information', null,
        'MULTI', 'F', 'F', 0, 'T', 'T');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_ECOMM_CUSTOM_MERCHANT_INFORMATION_ACTIONS', 'Actions', 'F', null, 'BP_ECOMM_CUSTOM_MERCHANT_INFORMATION',
        'SINGLE', 'F', 'F', 0, 'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_ECOMM_CUSTOM_MERCHANT_INFORMATION_ACTIONS_VIEW', 'View Merchant Information', 'T',
        'User can view the merchant information at an account level', 'BP_ECOMM_CUSTOM_MERCHANT_INFORMATION_ACTIONS',
        null, 'F', 'F', 0, 'T', 'T');

--transfer old custom accesslevel to new access level
UPDATE MODULE_ACCESS_LEVEL
SET MODULE_ID = 'BP_ECOMM_CUSTOM_MERCHANT_INFORMATION'
WHERE MODULE_ID = 'BP_ECOMM_CUSTOM_CONFIGURATIONS_ACTIONS_VIEW_AND_EDIT_MERCHANT';
--new access level for child merchant config
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_ECOMM_CUSTOM_MERCHANT_INFORMATION_ACTIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_ECOMM_CUSTOM_MERCHANT_INFORMATION_ACTIONS_VIEW', 'T');

--delete previous view and edit entry under configuration parent(custom)
UPDATE MODULE_PERM
SET MODULE_ID='BP_ECOMM_CUSTOM_MERCHANT_INFORMATION_ACTIONS_VIEW'
where MODULE_ID = 'BP_ECOMM_CUSTOM_CONFIGURATIONS_ACTIONS_VIEW_AND_EDIT_MERCHANT';

DELETE
from MODULE
WHERE ID = 'BP_ECOMM_CUSTOM_CONFIGURATIONS_ACTIONS_VIEW_AND_EDIT_MERCHANT';

ALTER TABLE MODULE_ACCESS_LEVEL ENABLE CONSTRAINT MODULE_ACCESS_LEVEL_MODULE_FK;

-- seperate tax and coupon configuration to tax config and coupon config

DELETE
FROM MODULE_ACCESS_LEVEL
WHERE MODULE_ID = 'BP_ECOMM_ADMIN_CONFIGURATIONS_TAXES_AND_COUPONS';
DELETE
FROM MODULE
WHERE ID = 'BP_ECOMM_ADMIN_CONFIGURATIONS_TAXES_AND_COUPONS';
DELETE
FROM MODULE_ACCESS_LEVEL
WHERE MODULE_ID = 'BP_ECOMM_BUSINESS_CONFIGURATIONS_TAXES_AND_COUPONS';
DELETE
FROM MODULE
WHERE ID = 'BP_ECOMM_BUSINESS_CONFIGURATIONS_TAXES_AND_COUPONS';
DELETE
FROM MODULE_ACCESS_LEVEL
WHERE MODULE_ID = 'BP_ECOMM_OPERATION_CONFIGURATIONS_TAXES_AND_COUPONS';
DELETE
FROM MODULE
WHERE ID = 'BP_ECOMM_OPERATION_CONFIGURATIONS_TAXES_AND_COUPONS';

Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_ECOMM_ADMIN_CONFIGURATIONS_TAXES', 'Tax Configurations', 'T',
        'User can add, view and edit the configurations for taxes', 'BP_ECOMM_ADMIN_CONFIGURATIONS', null, 'F', 'F', 3,
        'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_ECOMM_ADMIN_CONFIGURATIONS_COUPONS', 'Coupon Configurations', 'T',
        'User can add, view and edit the configurations for coupons', 'BP_ECOMM_ADMIN_CONFIGURATIONS', null, 'F', 'F',
        4, 'T', 'F');

Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_ECOMM_BUSINESS_CONFIGURATIONS_TAXES', 'Tax Configurations', 'T',
        'User can view the configurations for taxes', 'BP_ECOMM_BUSINESS_CONFIGURATIONS', null, 'F', 'F', 0, 'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_ECOMM_BUSINESS_CONFIGURATIONS_COUPONS', 'Coupon Configurations', 'T',
        'User can view  the configurations for coupons', 'BP_ECOMM_BUSINESS_CONFIGURATIONS', null, 'F', 'F', 1, 'T',
        'F');

Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_ECOMM_OPERATION_CONFIGURATIONS_TAXES', 'Tax Configurations', 'T',
        'User can view the configurations for taxes', 'BP_ECOMM_OPERATION_CONFIGURATIONS', null, 'F', 'F', 0, 'T',
        'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_ECOMM_OPERATION_CONFIGURATIONS_COUPONS', 'Coupon Configurations', 'T',
        'User can view  the configurations for coupons', 'BP_ECOMM_OPERATION_CONFIGURATIONS', null, 'F', 'F', 1, 'T',
        'F');

Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_ECOMM_ADMIN_CONFIGURATIONS_TAXES', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_ECOMM_ADMIN_CONFIGURATIONS_TAXES', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_ECOMM_ADMIN_CONFIGURATIONS_COUPONS', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_ECOMM_ADMIN_CONFIGURATIONS_COUPONS', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_ECOMM_BUSINESS_CONFIGURATIONS_TAXES', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_ECOMM_BUSINESS_CONFIGURATIONS_TAXES', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_ECOMM_BUSINESS_CONFIGURATIONS_COUPONS', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_ECOMM_BUSINESS_CONFIGURATIONS_COUPONS', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_ECOMM_OPERATION_CONFIGURATIONS_TAXES', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_ECOMM_OPERATION_CONFIGURATIONS_TAXES', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_ECOMM_OPERATION_CONFIGURATIONS_COUPONS', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_ECOMM_OPERATION_CONFIGURATIONS_COUPONS', 'T');

-- end seperate tax and coupon configuration

-- CUSTOM BRANDING START
UPDATE MODULE
SET DESCRIPTIONS='User to edit branding parameters and 100% whitelabel checkout, invoices, email templates & receipts',LABEL = 'View and Edit Branding configuration'
WHERE ID = 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT';

UPDATE MODULE
SET DESCRIPTIONS='A white-labelling capability used to customise checkout, invoices, email templates, receipts as per merchants brand guideline'
WHERE ID = 'BP_CUSTOM_BRANDING';

UPDATE MODULE
SET DESCRIPTIONS='User can only view the set configurations for checkout, invoices, email templates & receipts'
WHERE ID = 'BP_CUSTOM_BRANDING_PERMISSIONS_VIEW';

Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION', '', 'F', null,
        'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT', 'MULTI', 'F', 'F', 0, 'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL1', 'Hosted Checkout and Business Portal', 'T',
        'User can view and edit the configurations for Hosted Checkout and Business Portal branding',
        'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION', null, 'F', 'F', 0, 'T', 'F');
Insert into MODULE (ID, LABEL, IS_SELECTED, DESCRIPTIONS, PARENT_ID, SELECTION_MODE, SHOW_EXPAND, IS_EXPAND,
                    DISPLAY_ORDER, ENABLED, EDITABLE)
values ('BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL2', 'Invoice, Receipt & Email Branding', 'F',
        'User can view and edit the configurations for Invoice, Receipt and Email branding',
        'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION', null, 'F', 'F', 1, 'T', 'T');


UPDATE MODULE_PERM
SET MODULE_ID = 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL1'
WHERE MODULE_ID = 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT';

Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:ecomm-brandings:get', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL2', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:ecomm-brandings:create', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL2', 'T');
Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:ecomm-brandings:update', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL2', 'T');

Insert into MODULE_PERM (PERMISSION, MODULE_ID, ENABLED)
values ('group-business-portal:ecomm-brandings:get', 'BP_CUSTOM_BRANDING_PERMISSIONS_VIEW', 'T');

Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_CUSTOM_BRANDING', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_CUSTOM_BRANDING_PERMISSIONS_VIEW', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL1', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL2', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL1', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL2', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('PMLE', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('ISV', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL1', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('ISV', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION_LEVEL2', 'T');
Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('ISV', 'BP_CUSTOM_BRANDING_PERMISSIONS_EDIT_OPTION', 'T');

Insert into MODULE_ACCESS_LEVEL (SHOW, MODULE_ID, ENABLED)
values ('MLE', 'BP_CUSTOM_BRANDING_PERMISSIONS', 'T');
-- CUSTOM BRANDING END
